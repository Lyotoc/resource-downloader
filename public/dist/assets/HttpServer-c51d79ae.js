import{i as t}from"./index-21f5463a.js";import{i as e}from"./ipcRenderer-5e19eaee.js";import{a as o}from"./index-7ddfb13f.js";import{s}from"./store2-f66e2c24.js";import{_ as l,g as a,h as n,r,o as i,d as c,b as p,t as u,f as d,a as m,w as f,m as h}from"./index-9a718bb9.js";const v={id:"app-socket-http"},k={class:"one-block-2"},g={class:"one-block-2"},w=l({__name:"HttpServer",setup(l){const w=a("关闭"),b=a("无");function _(e){"关闭"!=w.value?function(t,e){const l=s.get("httpServiceConfig").server||"http://localhost:7071";let a=t.split(".").join("/");return a=l+"/"+a,console.log("url:",a),o({url:a,method:"post",data:e,timeout:6e4})}(t.framework.doHttpRequest,{id:e}).then((t=>{})):h.error("http服务未开启")}return n((()=>{e.invoke(t.framework.checkHttpServer,{}).then((t=>{t.enable&&(w.value="开启",b.value=t.server,s.set("httpServiceConfig",t))}))})),(t,e)=>{const s=r("a-button");return i(),c("div",v,[e[6]||(e[6]=p("div",{class:"one-block-1"},[p("span",null," 1. 使用http与主进程通信 ")],-1)),p("div",k,[p("p",null,"* 状态："+u(w.value),1),p("p",null,"* 地址："+u(b.value),1),p("p",null,[e[3]||(e[3]=d("* 发送请求： ")),m(s,{onClick:e[0]||(e[0]=t=>_("pictures"))},{default:f((()=>e[2]||(e[2]=[d(" 打开【我的图片】 ")]))),_:1})])]),e[7]||(e[7]=p("div",{class:"one-block-1"},[p("span",null," 2. 使用http与服务端通信 ")],-1)),p("div",g,[p("p",null,[m(s,{onClick:e[1]||(e[1]=t=>function(){console.log("GO_URL:","http://www.test.com"),o({baseURL:"http://www.test.com",method:"get",url:"/hello",timeout:3e3}).then((t=>{console.log("res:",t);const e=t.data||null;this.$message.info(`go服务返回: ${e}`)}))}())},{default:f((()=>e[4]||(e[4]=[d(" 发送请求 ")]))),_:1}),e[5]||(e[5]=d(" （请自行创建服务） "))])])])}}},[["__scopeId","data-v-8ff147f2"]]);export{w as default};
