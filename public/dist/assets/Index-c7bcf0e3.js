import{i as e}from"./index-21f5463a.js";import{i as s}from"./ipcRenderer-5e19eaee.js";import{a as l}from"./index-7ddfb13f.js";import{_ as o,r as a,o as n,d as t,b as r,a as i,w as c,f as p}from"./index-9a718bb9.js";const d={id:"app-cross-python"},u={class:"one-block-2"},f={class:"one-block-2"},k={class:"one-block-2"};const m=o({data:()=>({type:1,serverUrl:""}),methods:{info(){s.invoke(e.cross.crossInfo,{}).then((e=>{console.log("res:",e)}))},getUrl(){s.invoke(e.cross.getCrossUrl,{name:"pyapp"}).then((e=>{this.serverUrl=e,this.$message.info(`服务地址: ${e}`)}))},kill(){s.invoke(e.cross.killCrossServer,{type:"one",name:"pyapp"})},killAll(){s.invoke(e.cross.killCrossServer,{type:"all",name:"pyapp"})},create(){s.invoke(e.cross.createCrossServer,{program:"python"})},request(o){if(1!=o||""!=this.serverUrl)if(1==o){const e=this.serverUrl+"/api/hello";l({method:"get",url:e,params:{id:"111"},timeout:1e3}).then((e=>{console.log("res:",e);const s=e.data||null;this.$message.info(`服务返回: ${JSON.stringify(s)}`)}))}else s.invoke(e.cross.requestApi,{name:"pyapp",urlPath:"/api/hello"}).then((e=>{console.log("res:",e);const s=e||null;this.$message.info(`服务返回: ${JSON.stringify(s)}`)}));else this.$message.info("请先获取服务地址")}}},[["render",function(e,s,l,o,m,v){const h=a("a-button"),g=a("a-space");return n(),t("div",d,[s[16]||(s[16]=r("div",{class:"one-block-1"},[r("span",null," 1. 基础控制 ")],-1)),r("div",u,[i(g,null,{default:c((()=>[i(h,{onClick:s[0]||(s[0]=e=>v.create())},{default:c((()=>s[8]||(s[8]=[p(" 启动 ")]))),_:1}),i(h,{onClick:s[1]||(s[1]=e=>v.getUrl())},{default:c((()=>s[9]||(s[9]=[p(" 获取地址 ")]))),_:1}),i(h,{onClick:s[2]||(s[2]=e=>v.kill())},{default:c((()=>s[10]||(s[10]=[p(" kill ")]))),_:1}),i(h,{onClick:s[3]||(s[3]=e=>v.info())},{default:c((()=>s[11]||(s[11]=[p(" test ")]))),_:1})])),_:1})]),s[17]||(s[17]=r("div",{class:"one-block-1"},[r("span",null," 2. 发送http请求 ")],-1)),r("div",f,[i(g,null,{default:c((()=>[i(h,{onClick:s[4]||(s[4]=e=>v.request(1))},{default:c((()=>s[12]||(s[12]=[p(" 前端发送 ")]))),_:1}),i(h,{onClick:s[5]||(s[5]=e=>v.request(2))},{default:c((()=>s[13]||(s[13]=[p(" 主进程发送 ")]))),_:1})])),_:1})]),s[18]||(s[18]=r("div",{class:"one-block-1"},[r("span",null," 3. 多个服务 ")],-1)),r("div",k,[i(g,null,{default:c((()=>[i(h,{onClick:s[6]||(s[6]=e=>v.create())},{default:c((()=>s[14]||(s[14]=[p(" 启动 ")]))),_:1}),i(h,{onClick:s[7]||(s[7]=e=>v.killAll())},{default:c((()=>s[15]||(s[15]=[p(" kill all ")]))),_:1})])),_:1})])])}],["__scopeId","data-v-0bbae0d6"]]);export{m as default};
