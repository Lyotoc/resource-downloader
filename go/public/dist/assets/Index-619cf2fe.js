import{i as e}from"./index-21f5463a.js";import{i as l}from"./ipcRenderer-5e19eaee.js";import{_ as a}from"./_plugin-vue_export-helper-1b428a4d.js";import{r as u,o,a as n,b as s,f as r,e as t,d as i,w as c,h as d,t as v}from"./index-f3211453.js";const p={id:"app-jobs"},f={class:"one-block-2"},k={class:"one-block-2"},m=a({__name:"Index",setup(a){const m=u(""),b=u(0),_=u(0),C=u(0),w=u(0),j=u(0),h=u(0),I=u(0),P=u(0),x=u(0),J=u(0),g=u(0),y=u(0);function N(a,u){const o={jobId:a,type:"timer",action:u};l.invoke(e.framework.someJob,o).then((e=>{if("create"==u)switch(e.jobId){case 1:I.value=e.result.pid;break;case 2:P.value=e.result.pid}}))}function A(a,u){const o={jobId:a,type:"timer",action:u};l.invoke(e.framework.someJobByPool,o).then((e=>{const{jobId:l,result:a}=e;switch(l){case 3:x.value=a.pid;break;case 4:J.value=a.pid;break;case 5:g.value=a.pid;break;case 6:y.value=a.pid}}))}return o((()=>{l.removeAllListeners(e.framework.timerJobProgress),l.removeAllListeners(e.framework.createPoolNotice),l.on(e.framework.timerJobProgress,((e,l)=>{const{jobId:a,pid:u,number:o}=l;switch(a){case 1:b.value=o,I.value=0==u?u:I.value;break;case 2:_.value=o,P.value=0==u?u:P.value;break;case 3:C.value=o,x.value=0==u?u:x.value;break;case 4:w.value=o,J.value=0==u?u:J.value;break;case 5:j.value=o,g.value=0==u?u:g.value;break;case 6:h.value=o,y.value=0==u?u:y.value}})),l.on(e.framework.createPoolNotice,((e,l)=>{m.value=JSON.stringify(l)}))})),(a,u)=>{const o=n("a-button"),L=n("a-space");return s(),r("div",p,[u[31]||(u[31]=t("div",{class:"one-block-1"},[t("span",null," 1. 任务 / 并发任务 ")],-1)),t("div",f,[i(L,null,{default:c((()=>[i(o,{onClick:u[0]||(u[0]=e=>N(1,"create"))},{default:c((()=>u[13]||(u[13]=[d("执行任务1")]))),_:1}),d(" 进度: "+v(b.value)+" , 进程pid: "+v(I.value)+" ",1),i(o,{onClick:u[1]||(u[1]=e=>N(1,"pause"))},{default:c((()=>u[14]||(u[14]=[d("暂停")]))),_:1}),i(o,{onClick:u[2]||(u[2]=e=>N(1,"resume"))},{default:c((()=>u[15]||(u[15]=[d("恢复")]))),_:1}),i(o,{onClick:u[3]||(u[3]=e=>N(1,"close"))},{default:c((()=>u[16]||(u[16]=[d("关闭")]))),_:1})])),_:1}),u[21]||(u[21]=t("p",null,null,-1)),i(L,null,{default:c((()=>[i(o,{onClick:u[4]||(u[4]=e=>N(2,"create"))},{default:c((()=>u[17]||(u[17]=[d("执行任务2")]))),_:1}),d(" 进度: "+v(_.value)+" , 进程pid: "+v(P.value)+" ",1),i(o,{onClick:u[5]||(u[5]=e=>N(2,"pause"))},{default:c((()=>u[18]||(u[18]=[d("暂停")]))),_:1}),i(o,{onClick:u[6]||(u[6]=e=>N(2,"resume"))},{default:c((()=>u[19]||(u[19]=[d("恢复")]))),_:1}),i(o,{onClick:u[7]||(u[7]=e=>N(2,"close"))},{default:c((()=>u[20]||(u[20]=[d("关闭")]))),_:1})])),_:1})]),u[32]||(u[32]=t("div",{class:"one-block-1"},[t("span",null," 2. 任务池 / 并发任务 ")],-1)),t("div",k,[i(L,null,{default:c((()=>[i(o,{onClick:u[8]||(u[8]=a=>{l.send(e.framework.createPool,{number:3})})},{default:c((()=>u[22]||(u[22]=[d("创建进程池")]))),_:1}),d(" 进程pids: "+v(m.value),1)])),_:1}),u[27]||(u[27]=t("p",null,null,-1)),i(L,null,{default:c((()=>[i(o,{onClick:u[9]||(u[9]=e=>A(3,"run"))},{default:c((()=>u[23]||(u[23]=[d("执行任务3")]))),_:1}),d(" 进度: "+v(C.value)+" , 进程pid: "+v(x.value),1)])),_:1}),u[28]||(u[28]=t("p",null,null,-1)),i(L,null,{default:c((()=>[i(o,{onClick:u[10]||(u[10]=e=>A(4,"run"))},{default:c((()=>u[24]||(u[24]=[d("执行任务4")]))),_:1}),d(" 进度: "+v(w.value)+" , 进程pid: "+v(J.value),1)])),_:1}),u[29]||(u[29]=t("p",null,null,-1)),i(L,null,{default:c((()=>[i(o,{onClick:u[11]||(u[11]=e=>A(5,"run"))},{default:c((()=>u[25]||(u[25]=[d("执行任务5")]))),_:1}),d(" 进度: "+v(j.value)+" , 进程pid: "+v(g.value),1)])),_:1}),u[30]||(u[30]=t("p",null,null,-1)),i(L,null,{default:c((()=>[i(o,{onClick:u[12]||(u[12]=e=>A(6,"run"))},{default:c((()=>u[26]||(u[26]=[d("执行任务6")]))),_:1}),d(" 进度: "+v(h.value)+" , 进程pid: "+v(y.value),1)])),_:1})])])}}},[["__scopeId","data-v-90d2deb5"]]);export{m as default};
